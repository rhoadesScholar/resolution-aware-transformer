# Example Configuration for RoPE Mode - Simplified with New API
# Run with: python run_experiment.py --config configs/example_rope_config.yaml --num-gpus 1

experiment_name: "rat_rope_example"
description: "Example showing simplified RoPE configuration with new rose_initial_scaling API"
task_type: "segmentation"

# Random seed for reproducibility
seed: 42

# Dataset configuration
data:
  dataset_name: "isic2018"
  local_data_dir: "/tmp/datasets/isic2018"
  image_size: 256
  train_split: "train"
  val_split: "val"

# Model configuration - RoPE mode is now simply rose_initial_scaling="rope"
model:
  name: "rat"
  spatial_dims: 2
  input_features: 3
  feature_dims: 128
  num_blocks: 2
  num_heads: 8
  sga_attention_type: "dense"
  multi_scale: false
  learnable_rose: true
  rose_initial_scaling: "rope"  # This is all you need for RoPE mode!
  
# Alternative: RoSE mode (default)
# model:
#   name: "rat"
#   ...
#   rose_initial_scaling: "log"  # RoSE mode (default)

# Alternative: Other scaling modes
# model:
#   name: "rat"
#   ...
#   rose_initial_scaling: "identity"  # or "linear", "power", or null

# Training configuration
training:
  epochs: 10
  target_effective_batch_size: 16
  learning_rate: 1e-4
  weight_decay: 0.01
  scheduler: "cosine"
  loss: "combined"
  grad_clip: 1.0
  mixed_precision: true

# Results and logging
results:
  output_dir: "./results/rope_example"
  save_checkpoints: true
  log_freq: 50

# Evaluation metrics
evaluation:
  metrics: ["dice", "iou", "loss"]
  eval_freq: 2