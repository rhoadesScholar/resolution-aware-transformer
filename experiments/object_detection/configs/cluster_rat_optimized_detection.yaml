checkpoints:
  mode: max
  monitor: val_dice_score
  save_dir: /nrs/cellmap/rhoadesj/resolution-aware-transformer/experiments/checkpoints
  save_last: true
  save_top_k: 3
cluster:
  distributed_backend: nccl
  find_unused_parameters: true
  num_gpus: 8
data:
  batch_size: 8
  data_dir: /tmp/rat_data/rat_data_146605627
  image_size: 512
  num_workers: 16
  persistent_workers: true
  pin_memory: true
  prefetch_factor: 2
  train_split: train2017
  val_split: val2017
deepspeed:
  activation_checkpointing: true
  cpu_offload: false
  stage2_allgather_bucket_size: 5e8
  stage2_reduce_bucket_size: 5e8
  zero_stage: 2
description: Memory-optimized Resolution-Aware Transformer for COCO object detection
  matching baseline model size (~19M params)
eval:
  eval_interval: 5
  save_interval: 10
logging:
  backend: tensorboard
  log_dir: /nrs/cellmap/rhoadesj/resolution-aware-transformer/experiments/results/tensorboard_logs
  log_freq: 50
  save_predictions: true
model:
  attention_type:
  - sparse
  - sparse
  - dense
  - dense
  bbox_loss_coef: 5.0
  class_loss_coef: 1.0
  feature_dims: 256
  focal_alpha: 0.25
  focal_gamma: 2.0
  giou_loss_coef: 2.0
  learnable_rose: true
  mlp_dropout: 0.1
  mlp_ratio: 4
  multi_scale: true
  name: rat_detection
  num_blocks: 4
  num_classes: 91
  num_heads: 16
  num_queries: 100
  positional_encoding: rose
  scales:
  - 512
  - 640
name: RAT_Optimized_Object_Detection
training:
  batch_size: 2
  effective_batch_size: 16
  eval_freq: 2
  gradient_accumulation_steps: 4
  gradient_clip: 1.0
  mixed_precision: true
  num_epochs: 50
  optimizer:
    betas:
    - 0.9
    - 0.999
    lr: 1e-4
    name: adamw
    weight_decay: 0.01
  save_freq: 5
  scheduler:
    min_lr: 1e-6
    name: cosine
